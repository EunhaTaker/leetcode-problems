### 题目
给定 n 个非负整数 a1，a2，...，an，每个数代表坐标中的一个点 (i, ai) 。在坐标内画 n 条垂直线，垂直线 i 的两个端点分别为 (i, ai) 和 (i, 0)。找出其中的两条线，使得它们与 x 轴共同构成的容器可以容纳最多的水。

说明：你不能倾斜容器，且 n 的值至少为 2。
![](./pic1.jpg )
图中垂直线代表输入数组 [1,8,6,2,5,4,8,3,7]。在此情况下，容器能够容纳水（表示为蓝色部分）的最大值为 49。  

- 示例:  

输入: [1,8,6,2,5,4,8,3,7]  
输出: 49  

### 分析
两根柱子离得越远，容量越大，两根柱子中较短的那根越长，容量越大，要形成最大容量的两根柱子

### 理论
称形成最大容量的两根柱子为**a（左）**和**b（右）**，称a与b之间的柱子（包括ab）为**内部**，其他柱子为**外部**  
0.容器高度取决于两根柱子中较短的那根  
1.外部必然不存在比a或b更长的柱子（否则它便可以取代a/b)  
2.最长的柱子必定在内部（否则会违法理论1）  
3.如果一根柱子左右都存在不低于它的柱子，它一定不能构成最大容器（这样的柱子称为**废柴**）  

### 思路
根据分析，可以从距离、高度两个方向入手。  
- 思路1：  
从离最远的两根柱子出发，不断缩减宽度但攀登更高的柱子。i,j最初分别指向最左/最右柱子；循环开始，不断记录遇到的最大容量，然后逐步缩减距离，缩减规则为：选i,j中较短的那根，向另一根的方向移动，选择遇到的第一根高于自己的柱子替换自己（为什么跟自己同样高的柱子可以忽略？因为这样的柱子一定没有前途，见理论3），不断重复这个步骤，直到i>=j  
根据缩减策略，实例中6，2，5，4，3这几根柱子都会被忽略  
正确性：  
1.缩减时选择的是较短的柱子替换，是否会遗漏正确答案？  
答：反证，如果替换掉较长的柱子，则容器宽度缩短，容器高度却不会增大（理论0），即面积不可能比替换前更大  
- 思路2：
从最高的两根柱子出发，不断向次高的柱子移动并拓宽距离（理论2）。某些柱子可能是最高之一，但它仍可能是废柴柱（见理论3）。  
怎样寻找次高柱子是个问题，两种方法：  
1.记录位置信息并排序，寻找次高时移动索引即可，注意过程中保证距离只增不减  
2.记录位置信息，删除所有废柴柱，寻找次高只需比较i-1和j+1位置  